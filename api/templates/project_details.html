{% extends "layout.html" %}
{% block title %}Project Details{% endblock %}
{% block content %}
<div class="glass p-8 rounded-lg max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold mb-6">Project Details</h2>
    
    {% if project %}
        <div class="mb-6">
            <h3 class="text-2xl font-semibold">Project Information</h3>
            <p><strong>Name:</strong> {{ project.project_name }}</p>
            <p><strong>Type:</strong> {{ project.project_type }}</p>
            <p><strong>Location:</strong> Latitude {{ project.location_lat }}, Longitude {{ project.location_lng }}</p>
            <p><strong>Area:</strong> {{ project.area_size }} {{ project.area_unit }}</p>
            <p><strong>Description:</strong> {{ project.description }}</p>
            <p><strong>Status:</strong> {{ project.status }}</p>
        </div>
    {% endif %}
    
    {% if assessments %}
        <div class="mb-6">
            <h3 class="text-2xl font-semibold">Assessments</h3>
            <ul>
                {% for assessment in assessments %}
                    <li>
                        <p><strong>Date:</strong> {{ assessment.assessment_date }}</p>
                        <p><strong>Carbon Estimate:</strong> {{ assessment.carbon_estimate }} tons</p>
                        <p><strong>Confidence Score:</strong> {{ assessment.confidence_score }}%</p>
                        <p><strong>Methodology:</strong> {{ assessment.methodology }}</p>
                        <p><strong>AI Model Version:</strong> {{ assessment.ai_model_version }}</p>
                        <p><strong>Verification Status:</strong> {{ assessment.verification_status }}</p>
                        <p><strong>Report:</strong> <a href="{{ assessment.report_url }}" target="_blank" class="text-blue-500 hover:underline">View Report</a></p>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% else %}
        <div class="mb-6">
            <p>No assessments available.</p>
        </div>
    {% endif %}
    
    {% if credits %}
        <div class="mb-6">
            <h3 class="text-2xl font-semibold">Carbon Credits</h3>
            <ul>
                {% for credit in credits %}
                    <li>
                        <p><strong>Amount:</strong> {{ credit.credit_amount }} tons</p>
                        <p><strong>Issuance Date:</strong> {{ credit.issuance_date }}</p>
                        <p><strong>Expiry Date:</strong> {{ credit.expiry_date }}</p>
                        <p><strong>Certificate ID:</strong> {{ credit.certificate_id }}</p>
                        <p><strong>Status:</strong> {{ credit.status }}</p>
                        <p><strong>Price per Credit:</strong> ${{ credit.price_per_credit }}</p>
                        <p><strong>Verification Document:</strong> <a href="{{ credit.verification_document_url }}" target="_blank" class="text-blue-500 hover:underline">View Document</a></p>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% else %}
        <div class="mb-6">
            <p>No carbon credits available.</p>
        </div>
    {% endif %}
    
    {% if satellite_data %}
        <div class="mb-6">
            <h3 class="text-2xl font-semibold">Satellite Data</h3>
            <ul>
                {% for data in satellite_data %}
                    <li>
                        <p><strong>Capture Date:</strong> {{ data.capture_date }}</p>
                        <p><strong>NDVI Value:</strong> {{ data.ndvi_value }}</p>
                        <p><strong>Land Cover Classification:</strong> {{ data.land_cover_classification }}</p>
                        <p><strong>Cloud Cover Percentage:</strong> {{ data.cloud_cover_percentage }}%</p>
                        <p><strong>Source:</strong> {{ data.source }}</p>
                        <p><strong>Raw Data URL:</strong> <a href="{{ data.raw_data_url }}" target="_blank" class="text-blue-500 hover:underline">View Raw Data</a></p>
                        <p><strong>Processed Data URL:</strong> <a href="{{ data.processed_data_url }}" target="_blank" class="text-blue-500 hover:underline">View Processed Data</a></p>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% else %}
        <div class="mb-6">
            <p>No satellite data available.</p>
        </div>
    {% endif %}
    
    <div class="mt-8">
        <a href="{{ url_for('dashboard') }}" class="glass px-6 py-3 rounded-full text-white font-semibold hover:bg-green-600 transition">Back to Dashboard</a>
    </div>
</div>
{% endblock %}